{
  "types": [
    { "id":100, "name":"Connection", "color":"lightslategray" },
    { "id":101, "name":"ResultSet", "color":"orange" },
    { "id":102, "name":"ResultSetMetaData", "color":"orange" }
  ],
  "nodes": [
    {
      "name": "Oracle Connect",
      "type": 4,
      "version": 1,
      "jar": ["lib/ojdbc8.jar"],
      "import": ["java.sql.Connection", "java.sql.DriverManager", "java.sql.SQLException"],
      "java":"@Connect.java",
      "input": [
        { "type": 0, "label": "" },
        { "type": 1, "label": "Mode", "value": 0, "enum": [ "USER", "SYSOPER", "SYS" ] },
        { "type": 3, "label": "IP", "value": "localhost", "single_line": true, "not_null":true },
        { "type": 1, "label": "Port", "value": 1521, "single_line": true, "not_null":true },
        { "type": 3, "label": "SID", "value": "", "single_line": true, "not_null":true },
        { "type": 3, "label": "User", "value": "", "single_line": true, "not_null":true },
        { "type": 3, "label": "Password", "value": "", "password": true, "not_null":true }
      ],
      "output": [
        { "type": 0, "label": "Success" },
        { "type": 100, "label": "Connection", "java": { "references":{"variable":"conn"} } },
        { "type": 0, "label": "Error" },
        { "type": 1, "label": "Code", "java": { "references":{"variable":"code" } } },
        { "type": 3, "label": "Message", "java": { "references":{"variable":"message"} } }
      ]
    },
    {
      "name": "Oracle Disconnect",
      "icon": "<i class=\"icon i-database\"></i>",
      "type": 4,
      "version": 1,
      "jar": ["lib/ojdbc8.jar"],
      "java":"try { in{1}.close(); } catch (SQLException e) { }",
      "input": [
        { "type": 0, "label": "" },
        { "type": 100, "label": "Connection", "must_connect":true }
      ],
      "output": [
        { "type": 0, "label": "" }
      ]
    },
    {
      "name": "Oracle Select",
      "icon": "<i class=\"icon i-database\"></i>",
      "type": 4,
      "version": 1,
      "jar": ["lib/ojdbc8.jar"],
      "import": ["java.sql.Connection", "java.sql.SQLException", "java.sql.ResultSet", "java.sql.ResultSetMetaData", "java.sql.PreparedStatement"],
      "java":"@Select.java",
      "input": [
        { "type": 0, "label": "" },
        { "type": 100, "label": "Connection", "must_connect":true },
        { "type": 3, "label": "Query", "value": "" }
      ],
      "output": [
        { "type": 0, "label": "Success" },
        { "type": 101, "label": "Result set", "java": { "references":{"variable":"rs"}} },
        { "type": 0, "label": "Error" },
        { "type": 1, "label": "Code", "java": { "references":{"variable":"code" }} },
        { "type": 3, "label": "Message", "java": { "references":{"variable":"message"} } }
      ]
    },
    {
      "name": "Oracle Fetch Loop",
      "icon": "<i class=\"icon i-database\"></i>",
      "type": 4,
      "version": 1,
      "jar": ["lib/ojdbc8.jar", "json-simple-1.1.1.jar"],
      "import": ["java.sql.Connection", "java.sql.SQLException", "java.sql.ResultSet", "java.sql.ResultSetMetaData", "java.sql.Types",
                "java.sql.Clob", "org.json.simple.JSONObject", "org.json.simple.*"],
      "java":"@FetchAsJson.java",
      "input": [
        { "type": 0, "label": "" },
        { "type": 101, "label": "Result set" }
      ],
      "output": [
        { "type": 0, "label": "Fetched" },
        { "type": 200, "label": "Record", "java": { "references":{"variable":"jo"}} },
        { "type": 0, "label": "Completed" }
      ]
    },
    {
      "name": "Oracle Insert",
      "icon": "<i class=\"icon i-database\"></i>",
      "type": 4,
      "version": 1,
      "jar": ["lib/ojdbc8.jar", "json-simple-1.1.1.jar"],
      "import": ["java.sql.Connection", "java.sql.SQLException", "java.sql.Statement", "org.json.simple.*", "java.util.Iterator"],
      "java":"@Insert.java",
      "input": [
        { "type": 0, "label": "" },
        { "type": 100, "label": "Connection", "must_connect":true },
        { "type": 3, "label": "Table", "value": "", "single_line": true },
        { "type": 200, "label": "Record" },
        { "type": 4, "label": "Commit", "value": false }
      ],
      "output": [
        { "type": 0, "label": "Success" },
        { "type": 100, "label": "Connection", "java": { "references":{"input":1}} },
        { "type": 1, "label": "Rows affected","java": { "references":{"variable":"rows"}} },
        { "type": 0, "label": "Error" },
        { "type": 1, "label": "Code", "java": { "references":{"variable":"code" }} },
        { "type": 3, "label": "Message", "java": { "references":{"variable":"message"} } }
      ]
    },
    {
      "name": "Oracle Update",
      "icon": "<i class=\"icon i-database\"></i>",
      "type": 4,
      "version": 1,
      "jar": ["lib/ojdbc8.jar", "json-simple-1.1.1.jar"],
      "import": ["java.sql.Connection", "java.sql.SQLException", "java.sql.Statement", "org.json.simple.*", "java.util.Iterator"],
      "java":"@Update.java",
      "options": { "javaInputArray": true },
      "input": [
        { "type": 0, "label": "" },
        { "type": 100, "label": "Connection", "must_connect":true },
        { "type": 3, "label": "Table", "value": "", "single_line": true },
        { "type": 200, "label": "Record" },
        { "type": 4, "label": "Commit", "value": false },
        { "type": 3, "label": "Key", "value": "", "single_line": true }
      ],
      "addInput": { "type": 3, "label": "Key", "value": "", "single_line": true },
      "output": [
        { "type": 0, "label": "Success" },
        { "type": 100, "label": "Connection", "java": { "references":{"input":1}} },
        { "type": 1, "label": "Rows affected","java": { "references":{"variable":"rows"}} },
        { "type": 0, "label": "Error" },
        { "type": 1, "label": "Code", "java": { "references":{"variable":"code" }} },
        { "type": 3, "label": "Message", "java": { "references":{"variable":"message"} } }
      ]
    },
    {
      "name": "Oracle Commit",
      "icon": "<i class=\"icon i-database\"></i>",
      "type": 4,
      "version": 1,
      "jar": ["lib/ojdbc8.jar", "lib/json-simple-1.1.1.jar"],
      "import": ["java.sql.Connection", "java.sql.SQLException"],
      "java":"out{2} = 0;\ntry { in{1}.commit(); } catch (SQLException e) { out{2} = e.getErrorCode(); out{3} = e.getMessage(); } if (out{2} == 0) { exec{0} } else { exec{1} }",
      "input": [
        { "type": 0, "label": "" },
        { "type": 100, "label": "Connection", "must_connect":true }
      ],
      "output": [
        { "type": 0, "label": "Success" },
        { "type": 0, "label": "Error" },
        { "type": 1, "label": "Code", "java": { "references":{"variable":"code" }} },
        { "type": 3, "label": "Message", "java": { "references":{"variable":"message"} } }
      ]
    },
    {
      "name": "Oracle Rollback",
      "icon": "<i class=\"icon i-database\"></i>",
      "type": 4,
      "version": 1,
      "jar": ["lib/ojdbc8.jar", "lib/json-simple-1.1.1.jar"],
      "import": ["java.sql.Connection", "java.sql.SQLException"],
      "java":"out{2} = 0;\ntry { in{1}.rollback(); } catch (SQLException e) { out{2} = e.getErrorCode(); out{3} = e.getMessage(); } if (out{2} == 0) { exec{0} } else { exec{1} }",
      "input": [
        { "type": 0, "label": "" },
        { "type": 100, "label": "Connection", "must_connect":true }
      ],
      "output": [
        { "type": 0, "label": "Success" },
        { "type": 0, "label": "Error" },
        { "type": 1, "label": "Code", "java": { "references":{"variable":"code" }} },
        { "type": 3, "label": "Message", "java": { "references":{"variable":"message"} } }
      ]
    },
    {
      "name": "Oracle Switch on Exception",
      "icon": "<i class=\"icon i-database\"></i>",
      "type": 12,
      "version": 1,
      "input": [
        { "type": 0, "label": "" },
        { "type": 1, "label": "Code", "must_connect":true }
      ],
      "output": [
        { "type": 0, "label": "Others" },
        { "pinType": 0, "dataType": 1, "label": "", "value": 0, "enum": [ 
                                                                                  { "label": "ACCESS_INTO_NULL", "value": 6530 },
                                                                                  { "label": "CASE_NOT_FOUND", "value": 6592 },
                                                                                  { "label": "COLLECTION_IS_NULL", "value": 6531 },
                                                                                  { "label": "CURSOR_ALREADY_OPEN", "value": 6511 },
                                                                                  { "label": "DUP_VAL_ON_INDEX", "value": 1 },
                                                                                  { "label": "INVALID_CURSOR", "value": 1001 },
                                                                                  { "label": "INVALID_NUMBER", "value": 1722 },
                                                                                  { "label": "LOGIN_DENIED", "value": 1017 },
                                                                                  { "label": "NO_DATA_FOUND", "value": 1403 },
                                                                                  { "label": "NOT_LOGGED_ON", "value": 1012 },
                                                                                  { "label": "PROGRAM_ERROR", "value": 6501 },
                                                                                  { "label": "ROWTYPE_MISMATCH", "value": 6504 },
                                                                                  { "label": "SELF_IS_NULL", "value": 30625 },
                                                                                  { "label": "STORAGE_ERROR", "value": 6500 },
                                                                                  { "label": "SUBSCRIPT_BEYOND_COUNT", "value": 6533 },
                                                                                  { "label": "SUBSCRIPT_OUTSIDE_LIMIT", "value": 6532 },
                                                                                  { "label": "SYS_INVALID_ROWID", "value": 1410 },
                                                                                  { "label": "TIMEOUT_ON_RESOURCE", "value": 51 },
                                                                                  { "label": "TOO_MANY_ROWS", "value": 1422 },
                                                                                  { "label": "VALUE_ERROR", "value": 6502 },
                                                                                  { "label": "ZERO_DIVIDE", "value": 1476 }
                                                                                 ] 
        },
      ],
      "addOutput": {  "button": "Add exception", "pinType": 0, "dataType": 1, "label": "", "value": 0, "enum": [ 
                                                                                  { "label": "ACCESS_INTO_NULL", "value": 6530 },
                                                                                  { "label": "CASE_NOT_FOUND", "value": 6592 },
                                                                                  { "label": "COLLECTION_IS_NULL", "value": 6531 },
                                                                                  { "label": "CURSOR_ALREADY_OPEN", "value": 6511 },
                                                                                  { "label": "DUP_VAL_ON_INDEX", "value": 1 },
                                                                                  { "label": "INVALID_CURSOR", "value": 1001 },
                                                                                  { "label": "INVALID_NUMBER", "value": 1722 },
                                                                                  { "label": "LOGIN_DENIED", "value": 1017 },
                                                                                  { "label": "NO_DATA_FOUND", "value": 1403 },
                                                                                  { "label": "NOT_LOGGED_ON", "value": 1012 },
                                                                                  { "label": "PROGRAM_ERROR", "value": 6501 },
                                                                                  { "label": "ROWTYPE_MISMATCH", "value": 6504 },
                                                                                  { "label": "SELF_IS_NULL", "value": 30625 },
                                                                                  { "label": "STORAGE_ERROR", "value": 6500 },
                                                                                  { "label": "SUBSCRIPT_BEYOND_COUNT", "value": 6533 },
                                                                                  { "label": "SUBSCRIPT_OUTSIDE_LIMIT", "value": 6532 },
                                                                                  { "label": "SYS_INVALID_ROWID", "value": 1410 },
                                                                                  { "label": "TIMEOUT_ON_RESOURCE", "value": 51 },
                                                                                  { "label": "TOO_MANY_ROWS", "value": 1422 },
                                                                                  { "label": "VALUE_ERROR", "value": 6502 },
                                                                                  { "label": "ZERO_DIVIDE", "value": 1476 }
                                                                                 ] 
      
                   }
    }
  ]
}
