{"output":[{"label":"","type":0}],"input":[{"label":"","type":0}],"variables":[],"types":[],"nodes":[{"output":[{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":1,"label":"Start","exec":true,"dimensions":0}],"inner_text":" ","input":[],"can_delete":false,"name":"Entry point","x":92,"icon":"<i class=\"icon i-sign-in\"><\/i>","y":126,"id":1,"type":0,"version":1},{"output":[],"inner_text":" ","input":[{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":2,"label":"","exec":true,"dimensions":0}],"can_delete":false,"name":"Return","x":1817,"icon":"<i class=\"icon i-sign-out\"><\/i>","y":126,"id":2,"type":1,"version":1},{"output":[],"inner_text":" ","input":[{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":14,"label":"","exec":true,"dimensions":0},{"pinType":1,"dataTypeName":"Integer","dataType":1,"pinTypeName":"Integer","id":15,"label":"Code","value":1,"exec":false,"enum":["Success","Failure"],"dimensions":0},{"pinType":3,"dataTypeName":"String","dataType":3,"pinTypeName":"String","id":16,"label":"Message","value":"","exec":false,"dimensions":0}],"java":"_exit(in{1}, in{2});","can_delete":true,"name":"Exit","x":617,"icon":"<i class=\"icon i-sign-out\"><\/i>","y":426,"id":3,"type":10,"version":1},{"inner_text":" ","import":["com.jcraft.jsch.ChannelSftp","com.jcraft.jsch.JSch","com.jcraft.jsch.JSchException","com.jcraft.jsch.Session","com.jcraft.jsch.SftpException"],"type":4,"version":1,"output":[{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":19,"label":"","exec":true,"dimensions":0}],"input":[{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":17,"label":"","exec":true,"dimensions":0},{"pinType":400,"dataTypeName":"ChannelSftp","dataType":400,"pinTypeName":"ChannelSftp","id":18,"label":"Channel","exec":false,"dimensions":0}],"java":"try { in{1}.disconnect(); in{1}.getSession().disconnect(); } catch(JSchException e) { }","can_delete":true,"name":"SFTP Disconnect","x":1617,"y":126,"jar":["jsch-0.1.55.jar"],"id":4},{"output":[],"inner_text":" ","input":[{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":28,"label":"","exec":true,"dimensions":0},{"pinType":1,"dataTypeName":"Integer","dataType":1,"pinTypeName":"Integer","id":29,"label":"Code","value":1,"exec":false,"enum":["Success","Failure"],"dimensions":0},{"pinType":3,"dataTypeName":"String","dataType":3,"pinTypeName":"String","id":30,"label":"Message","value":"","exec":false,"dimensions":0}],"java":"_exit(in{1}, in{2});","can_delete":true,"name":"Exit","x":1067,"icon":"<i class=\"icon i-sign-out\"><\/i>","y":476,"id":5,"type":10,"version":1},{"output":[{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":33,"label":"","exec":true,"dimensions":0}],"inner_text":" ","input":[{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":31,"label":"","exec":true,"dimensions":0},{"pinType":3,"dataTypeName":"String","dataType":3,"pinTypeName":"String","id":32,"label":"Object","any":true,"exec":false,"dimensions":0}],"java":"System.out.println(in{1});","can_delete":true,"name":"Print","x":1417,"y":101,"id":6,"type":4,"version":1},{"output":[{"pinType":401,"dataTypeName":"ChannelSftp.LsEntry","dataType":401,"pinTypeName":"ChannelSftp.LsEntry","id":36,"label":"Element","any":true,"exec":false,"dimensions":0}],"inner_text":"[&nbsp;]","input":[{"pinType":401,"dataTypeName":"ChannelSftp.LsEntry","dataType":401,"pinTypeName":"ChannelSftp.LsEntry","id":34,"label":"Array","any":true,"exec":false,"dimensions":1},{"pinType":1,"dataTypeName":"Integer","dataType":1,"pinTypeName":"Integer","id":35,"label":"Index","value":0,"exec":false,"dimensions":0}],"java":"in{0}[in{1}]","can_delete":true,"name":"Array Get","x":942,"icon":"<i class=\"icon i-ellipsis-h\"><\/i>","y":226,"id":7,"type":5,"version":1},{"inner_text":" ","import":["java.lang.ArrayStoreException","java.util.Vector","com.jcraft.jsch.ChannelSftp","com.jcraft.jsch.JSch","com.jcraft.jsch.JSchException","com.jcraft.jsch.Session","com.jcraft.jsch.SftpException"],"type":4,"version":1,"output":[{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":23,"label":"Success","exec":true,"dimensions":0},{"pinType":400,"java":{"references":{"input":1}},"dataTypeName":"ChannelSftp","dataType":400,"pinTypeName":"ChannelSftp","id":24,"label":"Channel","exec":false,"dimensions":0},{"pinType":401,"java":{"references":{"name":"ls","type":"ChannelSftp.LsEntry[]"}},"dataTypeName":"ChannelSftp.LsEntry","dataType":401,"pinTypeName":"ChannelSftp.LsEntry","id":25,"label":"List","exec":false,"dimensions":1},{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":26,"label":"Error","exec":true,"dimensions":0},{"pinType":3,"java":{"references":{"name":"msg","type":"String"}},"dataTypeName":"String","dataType":3,"pinTypeName":"String","id":27,"label":"Message","exec":false,"dimensions":0}],"input":[{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":20,"label":"","exec":true,"dimensions":0},{"pinType":400,"dataTypeName":"ChannelSftp","dataType":400,"pinTypeName":"ChannelSftp","id":21,"label":"Channel","exec":false,"dimensions":0},{"pinType":3,"dataTypeName":"String","dataType":3,"pinTypeName":"String","id":22,"label":"Path","value":"Scaricati","exec":false,"dimensions":0,"single_line":true}],"java":"\nboolean _{node.id}_ls_result = true;\nVector _{node.id}_ls_vec = null;\n\ntry {\n    if (in{2}.isEmpty())\n      _{node.id}_ls_vec = in{1}.ls(\".\");\n    else\n      _{node.id}_ls_vec = in{1}.ls(in{2});\n      \n    out{2} = new ChannelSftp.LsEntry[_{node.id}_ls_vec.size()];\n    _{node.id}_ls_vec.toArray(out{2});\n    \n    _{node.id}_ls_result = true;\n} catch (SftpException e) {\n    out{4} = e.getMessage();\n    _{node.id}_ls_result = false;\n} catch (ArrayStoreException e) {\n    out{4} = e.getMessage();\n    _{node.id}_ls_result = false;\n} catch (NullPointerException e) {\n    out{4} = e.getMessage();\n    _{node.id}_ls_result = false;\n}\n\nif (_{node.id}_ls_result) {\n  exec{0}\n} else {\n  exec{3}\n}\n\n","can_delete":true,"name":"SFTP List","x":592,"y":126,"jar":["jsch-0.1.55.jar"],"id":8},{"inner_text":" ","import":["com.jcraft.jsch.JSch","com.jcraft.jsch.JSchException","com.jcraft.jsch.Session","com.jcraft.jsch.SftpException"],"type":5,"version":1,"output":[{"pinType":3,"dataTypeName":"String","dataType":3,"pinTypeName":"String","id":38,"label":"Filename","exec":false,"dimensions":0}],"input":[{"pinType":401,"dataTypeName":"ChannelSftp.LsEntry","dataType":401,"pinTypeName":"ChannelSftp.LsEntry","id":37,"label":"LsEntry","exec":false,"dimensions":0}],"java":"in{0}.getFilename()","can_delete":true,"name":"SFTP Get Filename","x":1192,"y":226,"jar":["jsch-0.1.55.jar"],"id":9},{"inner_text":" ","import":["com.jcraft.jsch.ChannelSftp","com.jcraft.jsch.JSch","com.jcraft.jsch.JSchException","com.jcraft.jsch.Session","com.jcraft.jsch.SftpException"],"type":4,"version":1,"output":[{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":9,"label":"Success","exec":true,"dimensions":0},{"pinType":400,"java":{"references":{"name":"channel","type":"ChannelSftp"}},"dataTypeName":"ChannelSftp","dataType":400,"pinTypeName":"ChannelSftp","id":10,"label":"Channel","exec":false,"dimensions":0},{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":11,"label":"Error","exec":true,"dimensions":0},{"pinType":3,"java":{"references":{"name":"msg","type":"String"}},"dataTypeName":"String","dataType":3,"pinTypeName":"String","id":12,"label":"Message","exec":false,"dimensions":0}],"input":[{"pinType":0,"dataTypeName":"Exec","dataType":0,"pinTypeName":"Exec","id":3,"label":"","exec":true,"dimensions":0},{"pinType":3,"dataTypeName":"String","dataType":3,"pinTypeName":"String","id":4,"label":"Host","value":"192.168.9.137","exec":false,"dimensions":0,"single_line":true},{"pinType":1,"dataTypeName":"Integer","dataType":1,"pinTypeName":"Integer","id":5,"label":"Port","value":22,"exec":false,"dimensions":0},{"pinType":3,"dataTypeName":"String","dataType":3,"pinTypeName":"String","id":6,"label":"User","value":"fabio","exec":false,"dimensions":0,"single_line":true},{"pinType":1,"dataTypeName":"Integer","dataType":1,"pinTypeName":"Integer","id":7,"label":"Auth","value":1,"exec":false,"enum":["Password","Public key"],"dimensions":0},{"password":true,"pinType":3,"dataTypeName":"String","dataType":3,"pinTypeName":"String","id":8,"label":"Password","value":"","exec":false,"dimensions":0,"single_line":true}],"java":"\n// SFTP Connect\n\nout{1} = null;\n\ntry {\n    JSch _{node.id}_jsch = new JSch();\n    //_{node.id}_jsch.setKnownHosts(\"/Users/john/.ssh/known_hosts\");\n    Session _{node.id}_jschSession = _{node.id}_jsch.getSession(in{3}, in{1});\n    _{node.id}_jschSession.setConfig(\"StrictHostKeyChecking\", \"no\");\n    \n    if (in{4} == 0)\n      _{node.id}_jschSession.setPassword(in{5});\n    else\n      _{node.id}_jsch.addIdentity(\"~/.ssh/id_rsa\");\n    \n    _{node.id}_jschSession.connect();\n    out{1} = (ChannelSftp) _{node.id}_jschSession.openChannel(\"sftp\");\n    \n    out{1}.connect();\n} catch (JSchException e) {\n  out{3} = e.getMessage();\n  out{1} = null;\n}\n\nif (out{1} != null) {\n  exec{0}\n} else {\n  exec{2}\n}\n\n","can_delete":true,"name":"SFTP Connect","x":217,"y":126,"jar":["jsch-0.1.55.jar"],"id":10}],"method":"method_SFTP","y0":-124,"x0":42,"name":"SFTP","edges":[{"from":19,"to":2},{"from":33,"to":17},{"from":23,"to":31},{"from":24,"to":18},{"from":25,"to":34},{"from":26,"to":28},{"from":27,"to":30},{"from":36,"to":37},{"from":38,"to":32},{"from":1,"to":3},{"from":9,"to":20},{"from":10,"to":21},{"from":11,"to":14},{"from":12,"to":16}],"id":"d1f0dfaf-b306-42a2-8156-33337b376494","type":0}